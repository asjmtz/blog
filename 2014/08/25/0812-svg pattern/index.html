<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> SVG Patterns · ASJMTZ's Blog</title><meta name="description" content="SVG Patterns - ASJMTZ"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://iamtutu.com/atom.xml" title="ASJMTZ's Blog"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/asjmtz" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">SVG Patterns</h1><div class="post-info">Aug 25, 2014</div><div class="post-content"><p>参考文章：<a href="http://designmodo.com/svg-patterns/" target="_blank" rel="external">《How to Use SVG Patterns》</a><br>SVG的基础语法和属性选项：<a href="http://www.sitepoint.com/tips-accessible-svg/" target="_blank" rel="external">Tips for Creating Accessible SVG</a></p>
<p>SVG Patterns是用图案填充SVG图形的一种方式，一些简单的组合就可以做出非常炫的效果。</p>
<h2 id="SVG基础"><a href="#SVG基础" class="headerlink" title="SVG基础"></a>SVG基础</h2><p>本文集中讨论的浏览器和设备对象为：nternet Explorer 11, Firefox 28 and Chrome 30 on Windows, with Jaws 15 and NVDA 2014.1. Safari 6 on iOS/OSX with VoiceOver, and Chrome 30 on Android with TalkBack。</p>
<p>在HTML5 doctype声明下，SVG标签使用时不用包括命名空间的声明。像下面这样<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;svg version=&quot;1.1&quot; width=&quot;300&quot; height=&quot;200&quot;&gt;</div><div class="line">    &lt;title&gt;Green rectangle&lt;/title&gt;</div><div class="line">    &lt;rect width=&quot;75&quot; height=&quot;50&quot; rx=&quot;20&quot; ry=&quot;20&quot; fill=&quot;#90ee90&quot; stroke=&quot;#228b22&quot; stroke-fill=&quot;1&quot; /&gt;</div><div class="line">&lt;/svg&gt;</div></pre></td></tr></table></figure></p>
<h3 id="ARIA-属性"><a href="#ARIA-属性" class="headerlink" title="ARIA 属性"></a>ARIA 属性</h3><p>讲ARIA的属性加入到HTML元素中，可以让浏览器更新信息。他对各种浏览器和屏幕阅读器都有很好的支持，所以他可以帮助有阅读障碍的人士更好的浏览网页。</p>
<p>在SVG里加上aria-labelledby属性的话，可以加强<code>&lt;SVG&gt;</code>和他的子元素的联系。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;svg version=&quot;1.1&quot; width=&quot;300&quot; height=&quot;200&quot; aria-labelledby=&quot;title&quot;&gt;</div><div class="line">    &lt;title id=&quot;title&quot;&gt;Green rectangle&lt;/title&gt;</div><div class="line">    &lt;rect width=&quot;75&quot; height=&quot;50&quot; rx=&quot;20&quot; ry=&quot;20&quot; fill=&quot;#90ee90&quot; stroke=&quot;#228b22&quot; stroke-fill=&quot;1&quot; /&gt;</div><div class="line">&lt;/svg&gt;</div></pre></td></tr></table></figure>
<p>其他的还有一些属性集合起来，可以写成下面这样<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;svg version=&quot;1.1&quot; width=&quot;300&quot; height=&quot;200&quot; aria-labelledby=&quot;title desc&quot;&gt;</div><div class="line">    &lt;title id=&quot;title&quot;&gt;Green rectangle&lt;/title&gt;</div><div class="line">    &lt;desc id=&quot;desc&quot;&gt;A light green rectangle with rounded corners and a dark green border.&lt;/desc&gt;</div><div class="line">    &lt;a xlink:href=&quot;http://example.com&quot;&gt;</div><div class="line">    &lt;rect width=&quot;75&quot; height=&quot;50&quot; rx=&quot;20&quot; ry=&quot;20&quot; fill=&quot;#90ee90&quot; stroke=&quot;#228b22&quot; stroke-fill=&quot;1&quot; /&gt;</div><div class="line">    &lt;text x=&quot;35&quot; y=&quot;30&quot; font-size=&quot;1em&quot; text-anchor=&quot;middle&quot; fill=&quot;#000000&quot;&gt;Website&lt;/text&gt;</div><div class="line">    &lt;/a&gt;</div><div class="line">&lt;/svg&gt;</div></pre></td></tr></table></figure></p>
<h3 id="Make-it-focusable"><a href="#Make-it-focusable" class="headerlink" title="Make it focusable"></a>Make it focusable</h3><p>如果你的SVG是可交互的，必须确保他有一个元素可以让键盘focus。所以这里在SVG里面加上了<code>&lt;a&gt;</code>元素，用户可以使用Tab键通过link来focus到SVG上。</p>
<p>##Fill Patterns</p>
<p>先看看简单的SVG patterns的语法。</p>
<p></p><p data-height="268" data-theme-id="6215" data-slug-hash="bBxLe" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/asjmtz/pen/bBxLe/" target="_blank" rel="external">SVG pattern – 1 </a> by asjmtz (<a href="http://codepen.io/asjmtz" target="_blank" rel="external">@asjmtz</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p>
<script async src="//codepen.io/assets/embed/ei.js"></script>

<p><code>&lt;svg&gt;</code> 元素可以包含一个 <code>&lt;defs&gt;</code> 元素，<code>&lt;defs&gt;</code> 定义的图案不会立即显示，直到当我们用他的ID引用到 <code>stroke</code> 或 <code>fill</code> 属性时，才会显示。</p>
<p>###patterns attributes</p>
<p>下面是使用patterns时的一些重要的属性介绍。</p>
<p>####ID</p>
<p> <code>&lt;pattern&gt;</code> 中有唯一的 <code>id</code> 属性。可以让svg的shapes或text引用到他们的fill或stroke属性中。</p>
<p>####x,y, width, height</p>
<p><code>&lt;pattern&gt;</code> 中的 x 和 y 属性定义了 pattern 图案在 svg 中开始填充的坐标距离。width 和 height 则是填充图案的外框的大小。</p>
<p>这里坐标系的选择取决于 <code>patternUnit</code> 和 <code>patternContentUnits</code> 两个属性的值。</p>
<h4 id="patternUnits"><a href="#patternUnits" class="headerlink" title="patternUnits"></a>patternUnits</h4><p><code>patternUnits = &quot;userSpaceOnUse | objectBoundingBox&quot;</code>。</p>
<p>他们是应用于x, y, width和 height 的两种坐标系。默认采用objectBoundingBox。引用W3C的原话。</p>
<blockquote>
<p>If patternUnits=”userSpaceOnUse”, ‘x’, ‘y’, ‘width’ and ‘height’ represent values in the coordinate system that results from taking the current user coordinate system in place at the time when the ‘pattern’ element is referenced (i.e., the user coordinate system for the element referencing the ‘pattern’ element via a ‘fill’ or ‘stroke’ property) and then applying the transform specified by attribute ‘patternTransform’.</p>
<p>If patternUnits=”objectBoundingBox”, the user coordinate system for attributes ‘x’, ‘y’, ‘width’ and ‘height’ is established using the bounding box of the element to which the pattern is applied (see Object bounding box units) and then applying the transform specified by attribute ‘patternTransform’.<br>If attribute ‘patternUnits’ is not specified, then the effect is as if a value of ‘objectBoundingBox’ were specified.</p>
</blockquote>
<p>从现象看，<code>userSpaceOnUse</code> 使用的width和height是按绝对坐标系计算的像素值，他参考的坐标系和svg图形使用的是同一个，即他的坐标原点在svg父元素的左上角。</p>
<p>而 <code>objectBoundingBox</code> 的width和height是百分比值，填充图案的大小会随着svg的伸缩而伸缩。</p>
<p>上面还提到一个<code>patternTransform</code> 的属性，可以做坐标变换用的？？</p>
<p></p><p data-height="268" data-theme-id="6215" data-slug-hash="wpekH" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/asjmtz/pen/wpekH/" target="_blank" rel="external">wpekH</a> by asjmtz (<a href="http://codepen.io/asjmtz" target="_blank" rel="external">@asjmtz</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p>
<script async src="//codepen.io/assets/embed/ei.js"></script>


<h4 id="patternContentUnits"><a href="#patternContentUnits" class="headerlink" title="patternContentUnits"></a>patternContentUnits</h4><p>和 <code>patternUnits</code> 一样可以选两个值，但是默认值为 <code>userSpaceOnUse</code> 。</p>
<p>###Nested Patterns</p>
<p>可以用一个填充填充另一个填充。来看看这个填充填充的填充的栗子。</p>
<p>###Paths as Patterns</p>
<p></p><p data-height="268" data-theme-id="6215" data-slug-hash="uvBaA" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/asjmtz/pen/uvBaA/" target="_blank" rel="external">SVG patterns</a> by asjmtz (<a href="http://codepen.io/asjmtz" target="_blank" rel="external">@asjmtz</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p>
<script async src="//codepen.io/assets/embed/ei.js"></script>


</div></article></div></section><footer><div class="paginator"><a href="/2014/09/25/0925-angular phonecat/" class="prev">上一篇</a><a href="/2014/08/20/0820-jquery 插件自定义/" class="next">下一篇</a></div><div class="copyright"><p>© 2016 - 2017 <a href="http://iamtutu.com">ASJMTZ</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>