
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>SVG Patterns | Asjmtz&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="Asjmtz">
    
    <meta name="description" itemprop="description" content="svg pattern 的用法">
    
    
    
    
    
    <link rel="icon" href="/img/me.ico">
    
    
    <link rel="apple-touch-icon" href="/img/author-me.png">
    <link rel="apple-touch-icon-precomposed" href="/img/author-me.png">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
    <link rel="stylesheet" type="text/css" href="/pace/templates/pace-theme.css">
</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/author-me.png" alt="Asjmtz&#39;s Blog" title="Asjmtz&#39;s Blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Asjmtz&#39;s Blog">Asjmtz&#39;s Blog</a></h1>
				<h2 class="blog-motto">不想做画家的黑客不是好前端o(∩_∩)o</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜單">
			</a></div>
			<nav class="animated">
				<ul>
					
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/lab">Lab</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:iamtutu.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2014/08/25/0812-svg pattern/" title="SVG Patterns" itemprop="url">SVG Patterns</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://iamtutu.com" title="Asjmtz">Asjmtz</a>
    </p>
  <p class="article-time">
    <time datetime="2014-08-25T03:38:38.000Z" itemprop="datePublished">Aug 25 2014</time>
    更新日期:<time datetime="2015-02-13T06:41:46.000Z" itemprop="dateModified">Feb 13 2015</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目錄</strong>
		<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#SVG基础"><span class="toc-number">1.</span> <span class="toc-text">SVG基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ARIA_属性"><span class="toc-number">1.1.</span> <span class="toc-text">ARIA 属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Make_it_focusable"><span class="toc-number">1.2.</span> <span class="toc-text">Make it focusable</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Fill_Patterns"><span class="toc-number">2.</span> <span class="toc-text">Fill Patterns</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#patterns_attributes"><span class="toc-number">2.1.</span> <span class="toc-text">patterns attributes</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ID"><span class="toc-number">2.1.1.</span> <span class="toc-text">ID</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#x,y,_width,_height"><span class="toc-number">2.1.2.</span> <span class="toc-text">x,y, width, height</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#patternUnits"><span class="toc-number">2.1.3.</span> <span class="toc-text">patternUnits</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#patternContentUnits"><span class="toc-number">2.1.4.</span> <span class="toc-text">patternContentUnits</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Nested_Patterns"><span class="toc-number">2.2.</span> <span class="toc-text">Nested Patterns</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Paths_as_Patterns"><span class="toc-number">2.3.</span> <span class="toc-text">Paths as Patterns</span></a></li></ol></li></ol>
		</div>
		
		<p>参考文章：<a href="http://designmodo.com/svg-patterns/" target="_blank" rel="external">《How to Use SVG Patterns》</a><br>SVG的基础语法和属性选项：<a href="http://www.sitepoint.com/tips-accessible-svg/" target="_blank" rel="external">Tips for Creating Accessible SVG</a></p>
<p>SVG Patterns是用图案填充SVG图形的一种方式，一些简单的组合就可以做出非常炫的效果。</p>
<h2 id="SVG基础">SVG基础</h2><p>本文集中讨论的浏览器和设备对象为：nternet Explorer 11, Firefox 28 and Chrome 30 on Windows, with Jaws 15 and NVDA 2014.1. Safari 6 on iOS/OSX with VoiceOver, and Chrome 30 on Android with TalkBack。</p>
<p>在HTML5 doctype声明下，SVG标签使用时不用包括命名空间的声明。像下面这样<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg <span class="variable">version=</span><span class="string">"1.1"</span> <span class="variable">width=</span><span class="string">"300"</span> <span class="variable">height=</span><span class="string">"200"</span>&gt;</span><br><span class="line">    &lt;title&gt;Green rectangle&lt;/title&gt;</span><br><span class="line">    &lt;rect <span class="variable">width=</span><span class="string">"75"</span> <span class="variable">height=</span><span class="string">"50"</span> <span class="variable">rx=</span><span class="string">"20"</span> <span class="variable">ry=</span><span class="string">"20"</span> <span class="variable">fill=</span><span class="string">"#90ee90"</span> <span class="variable">stroke=</span><span class="string">"#228b22"</span> <span class="variable">stroke-fill=</span><span class="string">"1"</span> /&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="ARIA_属性">ARIA 属性</h3><p>讲ARIA的属性加入到HTML元素中，可以让浏览器更新信息。他对各种浏览器和屏幕阅读器都有很好的支持，所以他可以帮助有阅读障碍的人士更好的浏览网页。</p>
<p>在SVG里加上aria-labelledby属性的话，可以加强<code>&lt;SVG&gt;</code>和他的子元素的联系。</p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg <span class="variable">version=</span><span class="string">"1.1"</span> <span class="variable">width=</span><span class="string">"300"</span> <span class="variable">height=</span><span class="string">"200"</span> <span class="variable">aria-labelledby=</span><span class="string">"title"</span>&gt;</span><br><span class="line">    &lt;title <span class="variable">id=</span><span class="string">"title"</span>&gt;Green rectangle&lt;/title&gt;</span><br><span class="line">    &lt;rect <span class="variable">width=</span><span class="string">"75"</span> <span class="variable">height=</span><span class="string">"50"</span> <span class="variable">rx=</span><span class="string">"20"</span> <span class="variable">ry=</span><span class="string">"20"</span> <span class="variable">fill=</span><span class="string">"#90ee90"</span> <span class="variable">stroke=</span><span class="string">"#228b22"</span> <span class="variable">stroke-fill=</span><span class="string">"1"</span> /&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure>
<p>其他的还有一些属性集合起来，可以写成下面这样<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg <span class="variable">version=</span><span class="string">"1.1"</span> <span class="variable">width=</span><span class="string">"300"</span> <span class="variable">height=</span><span class="string">"200"</span> <span class="variable">aria-labelledby=</span><span class="string">"title desc"</span>&gt;</span><br><span class="line">    &lt;title <span class="variable">id=</span><span class="string">"title"</span>&gt;Green rectangle&lt;/title&gt;</span><br><span class="line">    &lt;desc <span class="variable">id=</span><span class="string">"desc"</span>&gt;A light green rectangle <span class="keyword">with</span> rounded corners <span class="constant">and</span> a dark green border.&lt;/desc&gt;</span><br><span class="line">    &lt;a xlink:<span class="variable">href=</span><span class="string">"http://example.com"</span>&gt;</span><br><span class="line">    &lt;rect <span class="variable">width=</span><span class="string">"75"</span> <span class="variable">height=</span><span class="string">"50"</span> <span class="variable">rx=</span><span class="string">"20"</span> <span class="variable">ry=</span><span class="string">"20"</span> <span class="variable">fill=</span><span class="string">"#90ee90"</span> <span class="variable">stroke=</span><span class="string">"#228b22"</span> <span class="variable">stroke-fill=</span><span class="string">"1"</span> /&gt;</span><br><span class="line">    &lt;text <span class="variable">x=</span><span class="string">"35"</span> <span class="variable">y=</span><span class="string">"30"</span> <span class="variable">font-size=</span><span class="string">"1em"</span> <span class="variable">text-anchor=</span><span class="string">"middle"</span> <span class="variable">fill=</span><span class="string">"#000000"</span>&gt;Website&lt;/text&gt;</span><br><span class="line">    &lt;/a&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="Make_it_focusable">Make it focusable</h3><p>如果你的SVG是可交互的，必须确保他有一个元素可以让键盘focus。所以这里在SVG里面加上了<code>&lt;a&gt;</code>元素，用户可以使用Tab键通过link来focus到SVG上。</p>
<h2 id="Fill_Patterns">Fill Patterns</h2><p>先看看简单的SVG patterns的语法。</p>
<p></p><p data-height="268" data-theme-id="6215" data-slug-hash="bBxLe" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/asjmtz/pen/bBxLe/" target="_blank" rel="external">SVG pattern — 1 </a> by asjmtz (<a href="http://codepen.io/asjmtz" target="_blank" rel="external">@asjmtz</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p>
<script async src="//codepen.io/assets/embed/ei.js"></script>

<p><code>&lt;svg&gt;</code> 元素可以包含一个 <code>&lt;defs&gt;</code> 元素，<code>&lt;defs&gt;</code> 定义的图案不会立即显示，直到当我们用他的ID引用到 <code>stroke</code> 或 <code>fill</code> 属性时，才会显示。</p>
<h3 id="patterns_attributes">patterns attributes</h3><p>下面是使用patterns时的一些重要的属性介绍。</p>
<h4 id="ID">ID</h4><p> <code>&lt;pattern&gt;</code> 中有唯一的 <code>id</code> 属性。可以让svg的shapes或text引用到他们的fill或stroke属性中。</p>
<h4 id="x,y,_width,_height">x,y, width, height</h4><p><code>&lt;pattern&gt;</code> 中的 x 和 y 属性定义了 pattern 图案在 svg 中开始填充的坐标距离。width 和 height 则是填充图案的外框的大小。</p>
<p>这里坐标系的选择取决于 <code>patternUnit</code> 和 <code>patternContentUnits</code> 两个属性的值。</p>
<h4 id="patternUnits">patternUnits</h4><p><code>patternUnits = &quot;userSpaceOnUse | objectBoundingBox&quot;</code>。</p>
<p>他们是应用于x, y, width和 height 的两种坐标系。默认采用objectBoundingBox。引用W3C的原话。</p>
<blockquote>
<p>If patternUnits=”userSpaceOnUse”, ‘x’, ‘y’, ‘width’ and ‘height’ represent values in the coordinate system that results from taking the current user coordinate system in place at the time when the ‘pattern’ element is referenced (i.e., the user coordinate system for the element referencing the ‘pattern’ element via a ‘fill’ or ‘stroke’ property) and then applying the transform specified by attribute ‘patternTransform’.</p>
<p>If patternUnits=”objectBoundingBox”, the user coordinate system for attributes ‘x’, ‘y’, ‘width’ and ‘height’ is established using the bounding box of the element to which the pattern is applied (see Object bounding box units) and then applying the transform specified by attribute ‘patternTransform’.<br>If attribute ‘patternUnits’ is not specified, then the effect is as if a value of ‘objectBoundingBox’ were specified.</p>
</blockquote>
<p>从现象看，<code>userSpaceOnUse</code> 使用的width和height是按绝对坐标系计算的像素值，他参考的坐标系和svg图形使用的是同一个，即他的坐标原点在svg父元素的左上角。</p>
<p>而 <code>objectBoundingBox</code> 的width和height是百分比值，填充图案的大小会随着svg的伸缩而伸缩。</p>
<p>上面还提到一个<code>patternTransform</code> 的属性，可以做坐标变换用的？？</p>
<p></p><p data-height="268" data-theme-id="6215" data-slug-hash="wpekH" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/asjmtz/pen/wpekH/" target="_blank" rel="external">wpekH</a> by asjmtz (<a href="http://codepen.io/asjmtz" target="_blank" rel="external">@asjmtz</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p>
<script async src="//codepen.io/assets/embed/ei.js"></script>


<h4 id="patternContentUnits">patternContentUnits</h4><p>和 <code>patternUnits</code> 一样可以选两个值，但是默认值为 <code>userSpaceOnUse</code> 。</p>
<h3 id="Nested_Patterns">Nested Patterns</h3><p>可以用一个填充填充另一个填充。来看看这个填充填充的填充的栗子。</p>
<h3 id="Paths_as_Patterns">Paths as Patterns</h3><p></p><p data-height="268" data-theme-id="6215" data-slug-hash="uvBaA" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/asjmtz/pen/uvBaA/" target="_blank" rel="external">SVG patterns</a> by asjmtz (<a href="http://codepen.io/asjmtz" target="_blank" rel="external">@asjmtz</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p>
<script async src="//codepen.io/assets/embed/ei.js"></script>


  
	</div>
		<footer class="article-footer clearfix">


<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/svg/">svg</a>
</div>



<div class="article-share" id="share">

  <div data-url="http://iamtutu.com/2014/08/25/0812-svg pattern/" data-title="SVG Patterns | Asjmtz&#39;s Blog" data-tsina="asjmtz" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2014/09/25/0925-angular phonecat/" title="Angular Lesson 1">
  <strong>PREVIOUS:</strong><br/>
  <span>
  Angular Lesson 1</span>
</a>
</div>


<div class="next">
<a href="/2014/08/20/0820-jquery 插件自定义/"  title="jQuery 插件自定义">
 <strong>NEXT:</strong><br/> 
 <span>jQuery 插件自定义
</span>
</a>
</div>

</nav>

	
<section class="comment">
	<div class="ds-thread"></div>
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="顯示側邊欄"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目錄</strong>
  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#SVG基础"><span class="toc-number">1.</span> <span class="toc-text">SVG基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ARIA_属性"><span class="toc-number">1.1.</span> <span class="toc-text">ARIA 属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Make_it_focusable"><span class="toc-number">1.2.</span> <span class="toc-text">Make it focusable</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Fill_Patterns"><span class="toc-number">2.</span> <span class="toc-text">Fill Patterns</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#patterns_attributes"><span class="toc-number">2.1.</span> <span class="toc-text">patterns attributes</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ID"><span class="toc-number">2.1.1.</span> <span class="toc-text">ID</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#x,y,_width,_height"><span class="toc-number">2.1.2.</span> <span class="toc-text">x,y, width, height</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#patternUnits"><span class="toc-number">2.1.3.</span> <span class="toc-text">patternUnits</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#patternContentUnits"><span class="toc-number">2.1.4.</span> <span class="toc-text">patternContentUnits</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Nested_Patterns"><span class="toc-number">2.2.</span> <span class="toc-text">Nested Patterns</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Paths_as_Patterns"><span class="toc-number">2.3.</span> <span class="toc-text">Paths as Patterns</span></a></li></ol></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隱藏側邊欄"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分類</p>
		<ul>
		
			<li><a href="/categories/Angular/" title="Angular">Angular<sup>5</sup></a></li>
		
			<li><a href="/categories/Aurelia/" title="Aurelia">Aurelia<sup>2</sup></a></li>
		
			<li><a href="/categories/Grunt/" title="Grunt">Grunt<sup>4</sup></a></li>
		
			<li><a href="/categories/Yeoman/" title="Yeoman">Yeoman<sup>1</sup></a></li>
		
			<li><a href="/categories/git/" title="git">git<sup>4</sup></a></li>
		
			<li><a href="/categories/html/" title="html">html<sup>1</sup></a></li>
		
			<li><a href="/categories/js/" title="js">js<sup>6</sup></a></li>
		
			<li><a href="/categories/phonegap/" title="phonegap">phonegap<sup>1</sup></a></li>
		
			<li><a href="/categories/svg/" title="svg">svg<sup>2</sup></a></li>
		
			<li><a href="/categories/test/" title="test">test<sup>2</sup></a></li>
		
			<li><a href="/categories/to-do/" title="to-do">to-do<sup>2</sup></a></li>
		
			<li><a href="/categories/手绘/" title="手绘">手绘<sup>1</sup></a></li>
		
			<li><a href="/categories/规范/" title="规范">规范<sup>2</sup></a></li>
		
			<li><a href="/categories/音乐/" title="音乐">音乐<sup>1</sup></a></li>
		
		</ul>
</div>


  

  
  <div class="archiveslist">
    <p class="asidetitle"><a href="/archives">歸檔</a></p>
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">June 2014</a><span class="archive-list-count">10</span></li></ul>
  </div>


  <div class="rsspart">
	<a href="null" target="_blank" title="rss">RSS 訂閱</a>
</div>

  <div class="linkslist">
  <p class="asidetitle">友情鏈接</p>
    <ul>
      <li><a href="http://yangjian.me" target="_blank" title="YangJian">Alimon's Blog</a></li>
      <li><a href="http://hexo.io" target="_blank" title="Hexo">Hexo</a></li>
    </ul>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> 爱斯基摩兔子是也 <br/>
			最近追什么番比较好哪？</p>
	</section>
	 
	<div class="social-font clearfix">
		
		<a href="http://weibo.com/asjmtz" target="_blank" title="weibo"></a>
		
		
		
		<a href="https://github.com/asjmtz" target="_blank" title="github"></a>
		
		
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/A-limon/pacman" target="_blank" title="Pacman">Pacman</a> © 2015 
		
		<a href="http://iamtutu.com" target="_blank" title="Asjmtz">Asjmtz</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript" src="/pace/pace.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>


<script type="text/javascript">
  var duoshuoQuery = {short_name:"asjmtz"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 





<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?3014521f2cf9b3f5b28fcaf8a31d2524";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


  </body>
</html>
